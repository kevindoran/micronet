# Python
# Install Python 3.7
sudo dnf install python37
# Install pip3
sudo dnf install pip3
# Install virtualenv
pip3 install --user virtualenv
# Create virtual env
virtualenv venv --python=python3.7



# Google Cloud SDK
# Python 2 (Needed by Google Cloud SDK)
sudo dnf install python
# Download SDK
curl -O https://dl.google.com/dl/cloudsdk/channels/rapid/downloads/google-cloud-sdk-250.0.0-linux-x86_64.tar.gz
# Extract somewhere, then run the installer. Restart shell.
# Initialize gcloud
gcloud init
# ctpu
# https://github.com/tensorflow/tpu/tree/master/tools/ctpu
wget https://dl.google.com/cloud_tpu/ctpu/latest/linux/ctpu
chmod u+x ctpu
# Add ctpu to the env path. This could also be done for gcloud instead of the standard
# installation process.
ln -s ~/software/ctpu  ~/projects/micronet/.gcloud_env/bin/


# ImagenetData
# https://cloud.google.com/tpu/docs/tutorials/inception#full-dataset
wget https://raw.githubusercontent.com/tensorflow/tpu/master/tools/datasets/imagenet_to_gcs.py
export DATA_DIR=gs://micronet_bucket1/imageNet
export SCRATCH_DIR=/tmp/imagenet_temp_files
pip install google-cloud-storage
python imagenet_to_gcs.py --project=micronet --gcs_output_path=$DATA_DIR --local_scratch_dir=$SCRATCH_DIR --imagenet_username=leImageNet --imagenet_access_key=inSoaringLark4

# tensorflow Python
# From the micronet env
sudo pip install --upgrade tensorflow
pip freeze > requirements.txt

